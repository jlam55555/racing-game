<!--
  Basic HTML layout
  @author Jonathan Lam
  -->
<!doctype html>
<html>
  <head>
    <title>Racing Game</title>

    <!--
      meta tags for site crawling
      @author Jonathan Lam
      -->
    <meta charset='utf-8'>
    <meta name='description' content='Multiplayer racing game for AP CSP Create task'>
    <meta name='author' content='Jonathan Lam <jonathan.lam@er9.org>, Rahul Kiefer <rahul.kiefer@er9.org>'>
    <meta name='keywords' content='multiplayer, racing, game, CSP, computer science principles, jonathan lam, rahul kiefer'>

    <!--
      include stylesheets
      @author Jonathan Lam
      -->
    <link rel='stylesheet' href='css/main.css'>
    <link rel='stylesheet' href='css/index.css'>

    <!--
      include socket.io library
      @author Jonathan Lam
      -->
    <script src='/socket.io/socket.io.js'></script>

    <!--
      include three.min.js library
      @author Rahul kiefer
      -->
    <!-- Do we need this on homepage?
    <script src='/js/three.min.js'></script> -->

    <!--
      include graphics script
      @author Rahul Kiefer
      -->
    <!-- <script src='/js/graphics.js' defer></script> -->

    <!--
      include main script
      @author Jonathan Lam
      -->
    <script src='/js/index.js' defer></script>

  </head>
  <body>

    <!--
      Create a room for hosts
      @author Jonathan Lam
      -->
    <div class='deviceTypeContainer'>
      <h1 class='deviceTypeHeader'>Are you a computer?</h1>
      <button id='createGame'>Create new game</button>
    </div>

    <!--
      Join a room for mobile
      @author Jonathan Lam
      -->
    <div class='deviceTypeContainer'>
      <h1 class='deviceTypeHeader'>Are you a smartphone or tablet?</h1>
      <div id='joinGameContainer'>
        <input type='text' id='joinGameId' placeholder='Game ID'>
        <button id='joinGame'>Join</button>
      </div>

      <!--
        Testing out the deviceorientationevent; remove when complete
        @author Jonathan Lam
        -->
      Point your device left. This is for testing only.
      <div id='deviceorientationevent'></div>
      <script>
        window.addEventListener('deviceorientation', event => {

          var forwardSpeed = 0, turnSpeed = 0;
          // device facing upwards
          if(Math.abs(beta) < 90) {
            forwardSpeed = gamma;
            turnSpeed = beta;
          }
          // device facing downwards -- put at extreme (-90 or 90)
          else {
            forwardSpeed = gamma < 0 ? 90 : -90;
            turnSpeed = (beta < 0 ? -180 : 180) - beta;
          }

          // print stuff out
          document.querySelector('#deviceorientationevent').innerHTML = `alpha: ${event.alpha}<br>beta: ${event.beta}<br>gamma: ${event.gamma}<br>speed: ${forwardSpeed}<br>turn: ${turnSpeed}`;
        });
      </script>
    </div>

  </body>
</html>
